{% extends "base.html" %}
{% block content %}
<nav id="header" class="navbar navbar-expand-lg navbar-light border-bottom border-4 border-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/feedme">FeedMe</a>
  </div>
</nav>

<div id="main" class="h-100">
  <div id="register" class="container-fluid h-100 d-flex user-access">
    <div class="container container-action px-5 pt-4 pb-5 align-self-center w-50">
      <h1 class="fw-bold mx-auto mb-4">REGÍSTRATE</h1>
      <form class="text-center" method="POST" action="">
        {% csrf_token %}
        <div class="mb-3">
          {{ form.email }}
        </div>
        <div class="mb-3">
          {{ form.password1 }}
        </div>
        <div class="mb-3">
          {{ form.password2 }}
        </div>
        <input type="hidden" name="username" maxlength="150" autofocus="" required="" id="id_username"
          class=" form-control">

        {{ form.errors }}
        <div class="mb-3">
          <p class="m-auto">¿Ya tienes cuenta? <a class="feedme-link" href="/login">Iniciar sesión</a></p>
        </div>
        <button type="submit" class="btn btn-green fw-bold mt-3">Registrarse</button>
      </form>
    </div>
  </div>
</div>
<script>
  var form_fields = document.getElementsByTagName('input')
  form_fields[1].placeholder = 'Correo electrónico...';
  form_fields[2].placeholder = 'Contraseña...';
  form_fields[3].placeholder = 'Confirmar contraseña...';

  for (var field in form_fields) {
    form_fields[field].className += ' form-control';
  }

  document.getElementById('id_email').onkeyup = function () {
    document.getElementById('id_username').value = this.value;
  };
</script>
{% endblock content %}